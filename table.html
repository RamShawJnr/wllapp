<html>
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallington Little League</title>
    
    <!-- Linking to Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Linking to the external CSS file -->
    <link rel="stylesheet" href="css/styles.css">  <!-- Make sure 'styles.css' is in the same folder as this HTML file -->
</head>
<body>

<!-- Tables for each league -->
<div id="bantams" class="league-table">
    <table>
        <thead>
            <tr>
                <th>Team Name</th><th>Wins</th><th>Draws</th><th>Losses</th><th>Points</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>Grange Lightning</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Hackbridge Hurricanes</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Beddington Cyclones</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Wallington Tornadoes</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Wandle Thunder</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Beddington Park Blizzards</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
        </tbody>
    </table>
</div>

<div id="juniors" class="league-table hidden">
    <table>
        <thead>
            <tr>
                <th>Team Name</th><th>Wins</th><th>Draws</th><th>Losses</th><th>Points</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>Grange Lightning</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Hackbridge Hurricanes</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Beddington Cyclones</td><td class="wins">1</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Wallington Tornadoes</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Wandle Thunder</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Beddington Park Blizzards</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
        </tbody>
    </table>
</div>

<div id="inters" class="league-table hidden">
    <table>
        <thead>
            <tr>
                <th>Team Name</th><th>Wins</th><th>Draws</th><th>Losses</th><th>Points</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>Grange Lightning</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Hackbridge Hurricanes</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Beddington Cyclones</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Wallington Tornadoes</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Wandle Thunder</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
            <tr><td>Beddington Park Blizzards</td><td class="wins">0</td><td class="draws">0</td><td class="losses">0</td><td class="points">0</td></tr>
        </tbody>
    </table>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const tables = document.querySelectorAll(".league-table");
        const dropdown = document.querySelector("select");

        function calculatePoints() {
            tables.forEach(table => {
                table.querySelectorAll("tbody tr").forEach(row => {
                    const wins = parseInt(row.querySelector(".wins").textContent) || 0;
                    const draws = parseInt(row.querySelector(".draws").textContent) || 0;
                    const points = (wins * 3) + draws;
                    row.querySelector(".points").textContent = points;
                });
            });
        }

        function updateTable() {
            const selectedLeague = dropdown.value;
            tables.forEach(table => {
                table.classList.add("hidden");
            });
            document.getElementById(selectedLeague).classList.remove("hidden");
        }

        dropdown.addEventListener("change", updateTable);
        calculatePoints(); // Calculate points initially
    });
</script>


    <div class="bottom-menu">
        <a href="notifications.html" class="menu-item">
            <i class="fas fa-bell"></i> <!-- Notifications icon -->
        <a href="fixtures.htm" class="menu-item">
            <i class="fas fa-table"></i> <!-- Scoreboard icon -->
        </a>
        <a href="home.htm" class="menu-item">
            <i class="fas fa-home"></i> <!-- Home icon -->
        </a>
        <a href="table.html" class="menu-item">
            <i class="fas fa-list-ol"></i> <!-- Profile icon -->
        </a>
        <a href="profile.html" class="menu-item">
            <i class="fas fa-user"></i> <!-- Settings icon -->
        </a>
    </div>

	<div class="top-bar">
        <select class="dropdown">
            <option value="bantams" selected>Bantams</option>
            <option value="juniors">Juniors</option>
            <option value="inters">Inters</option>
        </select>
    </div>


<script>
document.addEventListener("DOMContentLoaded", function () {
    const dropdown = document.querySelector(".dropdown");

    const savedValue = localStorage.getItem("dropdownValue");
    if (savedValue) {
        dropdown.value = savedValue;
    }

    dropdown.addEventListener("change", function () {
        localStorage.setItem("dropdownValue", dropdown.value);
    });
});
</script>

<script>
fetch('https://spreadsheets.google.com/feeds/list/1MiAotUkSXKE2zPkJ20mfC6qRfCyucQ-8SBCDJZEY_J0/od6/public/values?alt=json&pli=1')
  .then(response => response.json())
  .then(data => {
    const entries = data.feed.entry;
    const tableBody = document.querySelector('#league-table tbody');

    // Clear any existing table rows
    tableBody.innerHTML = '';

    // Loop through the data and insert rows into the table
    entries.forEach(entry => {
        const row = document.createElement('tr');

        // Insert team name, wins, draws, losses, and points into the row
        row.innerHTML = `
            <td>${entry.gsx$Team.$t}</td>
            <td>${entry.gsx$W.$t}</td>
            <td>${entry.gsx$D.$t}</td>
            <td>${entry.gsx$L.$t}</td>
            <td>${calculatePoints(entry.gsx$wins.$t, entry.gsx$draws.$t)}</td>
        `;
        tableBody.appendChild(row);
    });
  })
  .catch(error => console.error('Error fetching data:', error));

// Function to calculate points based on wins and draws
function calculatePoints(wins, draws) {
    return (parseInt(wins) * 3) + (parseInt(draws));
}

</script>

</body>
</html>